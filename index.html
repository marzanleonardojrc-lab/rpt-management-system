<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Municipal RPT System</title>
    <style>
        /* Screen Styles */
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background-color: #eef2f5; padding: 20px; }
        .card { background: white; max-width: 600px; margin: 0 auto; padding: 30px; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
        h2 { text-align: center; color: #2c3e50; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        
        .input-group { margin-bottom: 15px; }
        label { display: block; font-weight: 700; color: #555; margin-bottom: 5px; font-size: 0.9rem; }
        input, select { width: 100%; padding: 10px; border: 1px solid #bdc3c7; border-radius: 4px; font-size: 16px; }
        input:focus { border-color: #3498db; outline: none; }

        .results-area { background-color: #f8f9fa; border: 1px solid #e9ecef; padding: 15px; border-radius: 6px; margin-top: 20px; }
        .line-item { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 0.95rem; }
        .total-line { font-weight: bold; font-size: 1.3rem; color: #2c3e50; border-top: 2px dashed #bdc3c7; padding-top: 10px; margin-top: 10px; }
        
        .status-badge { display: inline-block; padding: 5px 10px; border-radius: 4px; font-size: 0.8rem; font-weight: bold; width: 100%; text-align: center; box-sizing: border-box; margin-top: 5px; }
        .bg-advance { background-color: #d1f2eb; color: #0e6251; border: 1px solid #a2d9ce; } /* Green */
        .bg-prompt { background-color: #d6eaf8; color: #21618c; border: 1px solid #aed6f1; } /* Blue */
        .bg-penalty { background-color: #fadbd8; color: #943126; border: 1px solid #e6b0aa; } /* Red */

        button { background-color: #34495e; color: white; border: none; padding: 12px; width: 100%; border-radius: 4px; cursor: pointer; font-size: 16px; margin-top: 20px; transition: 0.2s; }
        button:hover { background-color: #2c3e50; }

        /* PRINT STYLES - This hides the inputs and only shows the slip when printing */
        @media print {
            body * { visibility: hidden; }
            .print-area, .print-area * { visibility: visible; }
            .print-area { position: absolute; left: 0; top: 0; width: 100%; margin: 0; padding: 20px; border: none; box-shadow: none; }
            button, label, input, .no-print { display: none !important; }
            h2 { font-size: 18px; text-align: center; }
            .line-item { font-size: 14px; margin-bottom: 5px; border-bottom: 1px dotted #ccc; padding-bottom: 2px; }
            .total-line { font-size: 18px; margin-top: 20px; }
            .footer-note { display: block !important; margin-top: 30px; font-size: 10px; text-align: center; font-style: italic; }
        }
        .footer-note { display: none; }
    </style>
</head>
<body>

<div class="card print-area">
    <h2>REAL PROPERTY TAX COMPUTATION</h2>
    
    <div class="no-print">
        <div class="input-group">
            <label>Assessed Value (From TD)</label>
            <input type="number" id="assessedVal" placeholder="0.00" oninput="compute()">
        </div>

        <div class="input-group" style="display: flex; gap: 10px;">
            <div style="flex: 1;">
                <label>Tax Year (Collecting For)</label>
                <input type="number" id="taxYear" placeholder="YYYY" oninput="compute()">
            </div>
            <div style="flex: 1;">
                <label>Transaction Date</label>
                <input type="date" id="txnDate" onchange="compute()">
            </div>
        </div>
        <hr style="border: 0; border-top: 1px solid #eee; margin: 20px 0;">
    </div>

    <div class="results-area">
        <div class="line-item">
            <span>Tax Year:</span>
            <span id="dispTaxYear">-</span>
        </div>
        <div class="line-item">
            <span>Assessed Value:</span>
            <span id="dispAssessed">-</span>
        </div>
        <div class="line-item">
            <span>Basic Tax (1%):</span>
            <span id="dispBasic">0.00</span>
        </div>
        <div class="line-item">
            <span>SEF (1%):</span>
            <span id="dispSef">0.00</span>
        </div>
        
        <div class="line-item" style="color: #555; font-style: italic; margin-top: 10px;">
            <span id="adjLabel">Adjustment:</span>
            <span id="adjAmount">0.00</span>
        </div>

        <div id="statusBadge" class="status-badge" style="display:none;"></div>

        <div class="line-item total-line">
            <span>TOTAL AMOUNT DUE:</span>
            <span id="dispTotal">‚Ç± 0.00</span>
        </div>
    </div>

    <div class="footer-note">
        <p>Verified by Revenue Collection Clerk</p>
        <p>This is a system-generated estimate. Official Receipt required for validity.</p>
    </div>

    <button onclick="window.print()" class="no-print">üñ®Ô∏è Print Summary for Client</button>
</div>

<script src="script.js"></script>
</body>
</html>
